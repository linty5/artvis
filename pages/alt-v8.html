<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "param_12_store"}, {"name": "source_1", "values": [{"num_exhibitions": 3, "total_paintings": 57, "year": 1902}, {"num_exhibitions": 3, "total_paintings": 39, "year": 1903}, {"num_exhibitions": 11, "total_paintings": 125, "year": 1904}, {"num_exhibitions": 7990, "total_paintings": 20721, "year": 1905}, {"num_exhibitions": 6133, "total_paintings": 20444, "year": 1906}, {"num_exhibitions": 4998, "total_paintings": 16715, "year": 1907}, {"num_exhibitions": 5107, "total_paintings": 21120, "year": 1908}, {"num_exhibitions": 5134, "total_paintings": 19827, "year": 1909}, {"num_exhibitions": 5764, "total_paintings": 21181, "year": 1910}, {"num_exhibitions": 4989, "total_paintings": 18670, "year": 1911}, {"num_exhibitions": 6856, "total_paintings": 25260, "year": 1912}, {"num_exhibitions": 7362, "total_paintings": 29573, "year": 1913}, {"num_exhibitions": 5904, "total_paintings": 20466, "year": 1914}, {"num_exhibitions": 1352, "total_paintings": 4801, "year": 1915}]}, {"name": "source_0"}, {"name": "data_0", "values": [{"nationality": "AT", "num_artists": 3311, "num_artists_end": 3311.0, "num_artists_start": 0.0, "total_paintings": 13847}, {"nationality": "BE", "num_artists": 2849, "num_artists_end": 2849.0, "num_artists_start": 0.0, "total_paintings": 9209}, {"nationality": "CH", "num_artists": 1322, "num_artists_end": 1322.0, "num_artists_start": 0.0, "total_paintings": 4623}, {"nationality": "CZ", "num_artists": 2182, "num_artists_end": 2182.0, "num_artists_start": 0.0, "total_paintings": 10186}, {"nationality": "DE", "num_artists": 14421, "num_artists_end": 14421.0, "num_artists_start": 0.0, "total_paintings": 42520}, {"nationality": "FR", "num_artists": 7886, "num_artists_end": 7886.0, "num_artists_start": 0.0, "total_paintings": 33338}, {"nationality": "GB", "num_artists": 6365, "num_artists_end": 6365.0, "num_artists_start": 0.0, "total_paintings": 18679}, {"nationality": "HU", "num_artists": 3110, "num_artists_end": 3110.0, "num_artists_start": 0.0, "total_paintings": 14832}, {"nationality": "IT", "num_artists": 3875, "num_artists_end": 3875.0, "num_artists_start": 0.0, "total_paintings": 13465}, {"nationality": "NL", "num_artists": 4469, "num_artists_end": 4469.0, "num_artists_start": 0.0, "total_paintings": 12398}, {"nationality": "PL", "num_artists": 844, "num_artists_end": 844.0, "num_artists_start": 0.0, "total_paintings": 3221}, {"nationality": "RU", "num_artists": 2147, "num_artists_end": 2147.0, "num_artists_start": 0.0, "total_paintings": 14990}, {"nationality": "SE", "num_artists": 940, "num_artists_end": 940.0, "num_artists_start": 0.0, "total_paintings": 3505}, {"nationality": "US", "num_artists": 1557, "num_artists_end": 1557.0, "num_artists_start": 0.0, "total_paintings": 3886}, {"nationality": "Unknown Nationality", "num_artists": 3687, "num_artists_end": 3687.0, "num_artists_start": 0.0, "total_paintings": 9523}]}, {"name": "data_1", "values": [{"num_exhibitions": 3, "total_paintings": 57, "year": 1902}, {"num_exhibitions": 3, "total_paintings": 39, "year": 1903}, {"num_exhibitions": 11, "total_paintings": 125, "year": 1904}, {"num_exhibitions": 7990, "total_paintings": 20721, "year": 1905}, {"num_exhibitions": 6133, "total_paintings": 20444, "year": 1906}, {"num_exhibitions": 4998, "total_paintings": 16715, "year": 1907}, {"num_exhibitions": 5107, "total_paintings": 21120, "year": 1908}, {"num_exhibitions": 5134, "total_paintings": 19827, "year": 1909}, {"num_exhibitions": 5764, "total_paintings": 21181, "year": 1910}, {"num_exhibitions": 4989, "total_paintings": 18670, "year": 1911}, {"num_exhibitions": 6856, "total_paintings": 25260, "year": 1912}, {"num_exhibitions": 7362, "total_paintings": 29573, "year": 1913}, {"num_exhibitions": 5904, "total_paintings": 20466, "year": 1914}, {"num_exhibitions": 1352, "total_paintings": 4801, "year": 1915}]}, {"name": "data_0_color_domain_total_paintings", "values": [{"min": 3221, "max": 42520}]}, {"name": "source_0_view_14_x_domain_nationality", "values": [{"nationality": "AT", "sort_field": 3311}, {"nationality": "BE", "sort_field": 2849}, {"nationality": "CH", "sort_field": 1322}, {"nationality": "CZ", "sort_field": 2182}, {"nationality": "DE", "sort_field": 14421}, {"nationality": "FR", "sort_field": 7886}, {"nationality": "GB", "sort_field": 6365}, {"nationality": "HU", "sort_field": 3110}, {"nationality": "IT", "sort_field": 3875}, {"nationality": "NL", "sort_field": 4469}, {"nationality": "PL", "sort_field": 844}, {"nationality": "RU", "sort_field": 2147}, {"nationality": "SE", "sort_field": 940}, {"nationality": "US", "sort_field": 1557}, {"nationality": "Unknown Nationality", "sort_field": 3687}]}], "signals": [{"name": "view_14_height", "value": 300}, {"name": "concat_1_height", "value": 200}, {"name": "unit", "value": {}, "on": [{"events": "pointermove", "update": "isTuple(group()) ? group() : unit"}]}, {"name": "param_12", "update": "vlSelectionResolve(\"param_12_store\", \"union\", true, true)"}], "marks": [{"type": "group", "name": "view_14_group", "encode": {"update": {"width": {"signal": "width"}, "height": {"signal": "view_14_height"}}}, "signals": [{"name": "param_12_tuple", "on": [{"events": [{"source": "scope", "type": "click"}], "update": "datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0 ? {unit: \"view_14\", fields: param_12_tuple_fields, values: [(item().isVoronoi ? datum.datum : datum)[\"nationality\"]]} : null", "force": true}, {"events": [{"source": "view", "type": "dblclick"}], "update": "null"}]}, {"name": "param_12_tuple_fields", "value": [{"type": "E", "field": "nationality"}]}, {"name": "param_12_toggle", "value": false, "on": [{"events": [{"source": "scope", "type": "click"}], "update": "event.shiftKey"}, {"events": [{"source": "view", "type": "dblclick"}], "update": "false"}]}, {"name": "param_12_modify", "on": [{"events": {"signal": "param_12_tuple"}, "update": "modify(\"param_12_store\", param_12_toggle ? null : param_12_tuple, param_12_toggle ? null : true, param_12_toggle ? param_12_tuple : null)"}]}], "marks": [{"type": "rect", "name": "view_14_marks", "from": {"data": "data_0"}, "encode": {"update": {"width": {"signal": "max(0.25, bandwidth('view_14_x'))"}, "tooltip": {"signal": "{\"Nationality\": isValid(datum[\"nationality\"]) ? datum[\"nationality\"] : \"\"+datum[\"nationality\"], \"Number of Artists\": format(datum[\"num_artists\"], \"\"), \"Total Paintings\": format(datum[\"total_paintings\"], \"\")}"}, "y2": {"field": "num_artists_start", "scale": "view_14_y"}, "fill": [{"field": "total_paintings", "scale": "color", "test": "!length(data(\"param_12_store\")) || vlSelectionTest(\"param_12_store\", datum)"}, {"value": "gray"}], "y": {"field": "num_artists_end", "scale": "view_14_y"}, "x": {"field": "nationality", "scale": "view_14_x"}}}, "style": ["bar"], "interactive": true}], "axes": [{"scale": "view_14_y", "tickCount": {"signal": "ceil(view_14_height/40)"}, "maxExtent": 0, "labels": false, "minExtent": 0, "zindex": 0, "ticks": false, "domain": false, "aria": false, "orient": "left", "gridScale": "view_14_x", "grid": true}, {"scale": "view_14_x", "title": "Nationality", "labelAlign": "right", "grid": false, "labelAngle": 270, "zindex": 0, "labelBaseline": "middle", "orient": "bottom"}, {"scale": "view_14_y", "zindex": 0, "labelOverlap": true, "title": "Number of Artists", "grid": false, "orient": "left", "tickCount": {"signal": "ceil(view_14_height/40)"}}], "title": {"text": "Top 15 Nationalities by Number of Artists", "frame": "group", "anchor": "middle"}, "style": "cell"}, {"type": "group", "name": "concat_1_group", "encode": {"update": {"height": {"signal": "concat_1_height"}, "width": {"signal": "width"}}}, "marks": [{"type": "line", "name": "concat_1_layer_0_marks", "from": {"data": "source_1"}, "sort": {"field": "x"}, "encode": {"update": {"x": {"field": "year", "scale": "concat_1_x"}, "tooltip": {"signal": "{\"Year\": format(datum[\"year\"], \"\"), \"Number of Exhibitions\": format(datum[\"num_exhibitions\"], \"\"), \"Total Paintings\": format(datum[\"total_paintings\"], \"\")}"}, "defined": {"signal": "isValid(datum[\"year\"]) && isFinite(+datum[\"year\"]) && isValid(datum[\"num_exhibitions\"]) && isFinite(+datum[\"num_exhibitions\"])"}, "stroke": {"value": "steelblue"}, "y": {"field": "num_exhibitions", "scale": "concat_1_y"}}}, "interactive": true, "style": ["line"]}, {"type": "symbol", "name": "concat_1_layer_1_marks", "from": {"data": "data_1"}, "encode": {"update": {"opacity": {"value": 1}, "y": {"field": "num_exhibitions", "scale": "concat_1_y"}, "x": {"field": "year", "scale": "concat_1_x"}, "tooltip": {"signal": "{\"Year\": format(datum[\"year\"], \"\"), \"Number of Exhibitions\": format(datum[\"num_exhibitions\"], \"\"), \"Total Paintings\": format(datum[\"total_paintings\"], \"\")}"}, "fill": {"value": "steelblue"}}}, "style": ["point"], "interactive": true}], "axes": [{"scale": "concat_1_x", "grid": true, "tickCount": {"signal": "ceil(width/40)"}, "minExtent": 0, "zindex": 0, "aria": false, "orient": "bottom", "maxExtent": 0, "gridScale": "concat_1_y", "labels": false, "domain": false, "ticks": false}, {"scale": "concat_1_y", "grid": true, "aria": false, "tickCount": {"signal": "ceil(concat_1_height/40)"}, "gridScale": "concat_1_x", "domain": false, "minExtent": 0, "ticks": false, "zindex": 0, "orient": "left", "maxExtent": 0, "labels": false}, {"scale": "concat_1_x", "grid": false, "tickCount": {"signal": "ceil(width/40)"}, "title": "Year", "zindex": 0, "labelOverlap": true, "labelFlush": true, "orient": "bottom"}, {"scale": "concat_1_y", "title": "Number of Exhibitions", "tickCount": {"signal": "ceil(concat_1_height/40)"}, "orient": "left", "zindex": 0, "labelOverlap": true, "grid": false}], "title": {"text": "Exhibition Timeline", "anchor": "middle", "frame": "group"}, "style": "cell"}], "scales": [{"name": "color", "type": "linear", "domain": [{"signal": "(data(\"data_0_color_domain_total_paintings\")[0] || {}).min"}, {"signal": "(data(\"data_0_color_domain_total_paintings\")[0] || {}).max"}], "range": {"scheme": "viridis"}, "zero": false, "interpolate": "hcl"}, {"name": "view_14_x", "type": "band", "domain": {"data": "source_0_view_14_x_domain_nationality", "field": "nationality", "sort": {"op": "max", "field": "sort_field", "order": "descending"}}, "range": [0, {"signal": "width"}], "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "view_14_y", "type": "linear", "domain": {"data": "data_0", "fields": ["num_artists_start", "num_artists_end"]}, "range": [{"signal": "view_14_height"}, 0], "nice": true, "zero": true}, {"name": "concat_1_x", "type": "linear", "domain": {"fields": [{"data": "source_1", "field": "year"}, {"data": "data_1", "field": "year"}]}, "range": [0, {"signal": "width"}], "nice": true, "zero": false}, {"name": "concat_1_y", "type": "linear", "domain": {"fields": [{"data": "source_1", "field": "num_exhibitions"}, {"data": "data_1", "field": "num_exhibitions"}]}, "range": [{"signal": "concat_1_height"}, 0], "zero": true, "nice": true}], "layout": {"padding": 20, "columns": 1, "bounds": "full", "align": "each"}, "width": 600, "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(view_14_height, 64, 200)"}, "title": "total_paintings"}], "background": "white", "config": {"style": {"cell": {"stroke": null}, "group-title": {"fontSize": 16}}}, "padding": 5};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>